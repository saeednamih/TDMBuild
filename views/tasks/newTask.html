<div class="col-lg-12" style="min-height: 590px;">
    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <div class="row">
                <div class="col-lg-3">
                    <h2>{{ 'NEW_TASK' | translate }}</h2>
                </div>
            </div>
        </div>
        <div class="ibox-content">
            <div class="wizard ">
                <div class="steps clearfix custom-ul">
                    <span style="display: none;">
                        {{newTaskCtrl.viewSteps = newTaskCtrl.getStepsArray() }}
                       </span>
                    <hr class="wizard-hr">
                    <ul class="ul-wizard" style="
                                    display: flex;
                                    width: 70%;
                                    justify-content: space-between; ">
                        <li class="pull-left" ng-class="{current : newTaskCtrl.step == 1}">
                            <a class="btn-default"
                             ng-class="{active : newTaskCtrl.step == 1}
                            ng-click="newTaskCtrl.openStep(1)">
                            <span class="wizard-step" >
                                {{newTaskCtrl.viewSteps.indexOf(1) + 1}}
                            </span>
                        </a>
                        <span>{{"GENERAL" | translate}}</span>
                        </li>
                        <li class="pull-left" ng-if="newTaskCtrl.taskData.reference != null" ng-class="{current : newTaskCtrl.step == 6}">
                            <a class="btn-default" 
                            ng-click="newTaskCtrl.openStep(6)">
                            <span class="wizard-step" >
                                6
                            </span>
                        </a>
                            Reference
                        </li>
                        <li class="pull-left" ng-if="!(newTaskCtrl.taskData.task_type == 'EXTRACT' && newTaskCtrl.taskData.selectAllEntites) && newTaskCtrl.taskData.reference !== 'refernceOnly'" ng-class="{current : newTaskCtrl.step == 2}">
                            <a class="btn-default" 
                            ng-class="{active : newTaskCtrl.step == 1} ng-click="
                            newTaskCtrl.openStep(2)">
                            <span class="wizard-step" >
                                2
                            </span>
                        </a>
                            {{"REQUESTED_ENTITIES" | translate}}
                        </li>
                        <li class="pull-left" ng-if="newTaskCtrl.taskData.task_globals" ng-class="{current : newTaskCtrl.step == 5}">
                            <a class="btn-default"
                             ng-click="newTaskCtrl.openStep(5)">
                             <span class="wizard-step" >
                                 5
                                </span>
                            </a>
                            {{"TASK_GLOBALS" | translate}}
                        </li>
                        <li class="pull-left" ng-if="
                            ((newTaskCtrl.taskData.task_type == 'LOAD' && !newTaskCtrl.taskData.version_ind) ||
                            (newTaskCtrl.taskData.task_type == 'EXTRACT' && !newTaskCtrl.taskData.version_ind 
                                && (newTaskCtrl.sourceUserRole.allowed_request_of_fresh_data || newTaskCtrl.userRole.allowed_request_of_fresh_data))) &&
                            newTaskCtrl.taskData.reference !== 'refernceOnly'" ng-class="{current : newTaskCtrl.step == 3}">
                            <a class="btn-default" 
                            ng-click="newTaskCtrl.openStep(3)">
                            <span class="wizard-step">
                                3
                            </span>
                        </a>
                            {{"REQUEST_PARAMETERS" | translate}}
                        </li>
                        <li class="pull-left" ng-class="{current : newTaskCtrl.step == 4}">
                            <a class="btn-default" 
                            ng-click="newTaskCtrl.openStep(4)">
                            <span class="wizard-step" >
                                 4 
                                </span>
                            </a>
                            {{"EXECUTION_TIMING" | translate}}
                        </li>
                    </ul>
                </div>
                <div class="wizard">
                    <div   class="content" ng-show="newTaskCtrl.step == 1">
                        <form name="generalForm" role="form" novalidate ng-init="newTaskCtrl.initGeneral(generalForm)"
                              ng-submit="newTaskCtrl.generalNext(generalForm)"
                              >
                            <div ng-include="'views/tasks/newTask/general.html'"></div>
                        </form>
                    </div>
                    <div  class="content" ng-show="newTaskCtrl.step == 2">
                        <form name="requestedEntitiesForm" role="form"  novalidate
                              ng-submit="newTaskCtrl.requestedEntitiesNext(requestedEntitiesForm)" >
                            <div ng-include="'views/tasks/newTask/requestedEntities.html'"></div>
                        </form>
                    </div>
                    <div  class="content" ng-show="newTaskCtrl.step == 3">
                        <form name="requestParametersForm" role="form" novalidate
                              ng-submit="newTaskCtrl.requestParametersNext(requestParametersForm)">
                            <div ng-include="'views/tasks/newTask/requestParameters.html'"></div>
                        </form>
                    </div>
                    <div  class="content" ng-show="newTaskCtrl.step == 4">
                        <form name="executionTimingForm" role="form" novalidate
                              ng-submit="newTaskCtrl.executionTimingFinish(executionTimingForm)" >
                            <div ng-include="'views/tasks/newTask/executionTiming.html'"></div>
                        </form>
                    </div>
                    <div  class="content" ng-show="newTaskCtrl.step == 5">
                        <form name="AddGlobalForm" role="form" novalidate
                              ng-submit="newTaskCtrl.globalsNext()" >
                            <div ng-include="'views/tasks/newTask/addGlobal.html'"></div>
                        </form>
                    </div>
                    <div  class="content" ng-if="newTaskCtrl.step == 6">
                        <form name="ReferenceForm" role="form" novalidate
                              ng-submit="newTaskCtrl.referenceNext()">
                            <div ng-include="'views/tasks/newTask/reference.html'"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
