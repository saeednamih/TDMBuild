<div class="col-sm-8">
    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <div class="row">
                <div class="col-lg-10">
                    <h2>{{ 'SOURCE_ENVIRONMENT' | translate }} {{sourceEnvironmentCtrl.environmentData.source_environment_name}}</h2>
                    <h5 style="padding-left:1em;font-weight: 300;"
                        ng-if="sourceEnvironmentCtrl.environmentData.environment_status == 'Inactive'">{{ 'INACTIVE' |
                        translate }}</h5>
                </div>
                <div class="col-lg-2 pull-right">
                    <a uib-tooltip="Delete Environment" tooltip-placement="left" type="button" role-handler role="0"
                       ng-if="!sourceEnvironmentCtrl.disableChange" class="pull-right"
                       mwl-confirm message="{{sourceEnvironmentCtrl.tasksCount == true ? 'The deleted source environment is attached to active tasks. The delete of the source environment will set those tasks to be inactive. Are you sure you want to delete the source environment ? ' : ''}} Are you sure you want to delete source Environment?"
                       confirm-text="Yes <i class='glyphicon glyphicon-ok'></i>" cancel-text="No <i class='glyphicon glyphicon-remove'></i>" placement="left"
                       on-confirm="sourceEnvironmentCtrl.deleteEnvironment()" on-cancel="cancelClicked = true" confirm-button-type="danger" cancel-button-type="default">
                       <img src="icons/delete-icon-2.svg">
                    </a>
                </div>
            </div>
        </div>
        <div class="ibox-content">
            <div class="row">
                <form role="form" ng-submit="sourceEnvironmentCtrl.saveChanges()">
                    <div class="col-lg-6 b-r" >
                        <div class="form-group col-lg-12">
                            <label >{{"SOURCE_ENVIRONMENT_NAME" | translate}}</label>
                            <input type="text" class="form-control" ng-model="sourceEnvironmentCtrl.environmentData.source_environment_name" disabled>
                        </div>
                        <div class="form-group col-lg-12">
                            <label>{{"DESCRIPTION" | translate}}</label>
                            <input type="text" class="form-control" ng-model="sourceEnvironmentCtrl.environmentData.environment_description" ng-disabled="sourceEnvironmentCtrl.disableChange">
                        </div>
                    </div>
                    <div class="col-lg-6" style="padding-right: 0;">
                        <div class="form-group col-lg-6">
                            <label >{{"FIRST_NAME" | translate}}</label>
                            <input type="text" class="form-control" ng-model="sourceEnvironmentCtrl.environmentData.environment_point_of_contact_first_name" ng-disabled="sourceEnvironmentCtrl.disableChange">
                        </div>
                        <div class="form-group col-lg-6">
                            <label>{{"LAST_NAME" | translate}}</label>
                            <input type="text" class="form-control" ng-model="sourceEnvironmentCtrl.environmentData.environment_point_of_contact_last_name" ng-disabled="sourceEnvironmentCtrl.disableChange">
                        </div>
                        <div class="form-group col-lg-12">
                            <label>{{"EMAIL" | translate}}</label>
                            <input type="email" class="form-control" ng-model="sourceEnvironmentCtrl.environmentData.environment_point_of_contact_email" ng-disabled="sourceEnvironmentCtrl.disableChange">
                        </div>
                        <div class="form-group col-lg-6">
                            <label>{{"PHONE_1" | translate}}</label>
                            <input type="tel" class="form-control" data-mask="(999) 999-9999"
                                   ng-model="sourceEnvironmentCtrl.environmentData.environment_point_of_contact_phone1" ng-disabled="sourceEnvironmentCtrl.disableChange">
                        </div>
                        <div class="form-group col-lg-6">
                            <label>{{"PHONE_2" | translate}}</label>
                            <input type="tel" class="form-control" data-mask="(999) 999-9999"
                                   ng-model="sourceEnvironmentCtrl.environmentData.environment_point_of_contact_phone2" ng-disabled="sourceEnvironmentCtrl.disableChange">
                        </div>
                        <div class="form-group col-lg-12">
                            <button role-handler role="1" ng-if="!sourceEnvironmentCtrl.disableChange"
                                    class="btn k2-primary-btn pull-right" type="submit">{{ "SAVE_CHANGES" | translate}}
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="hr-line-dashed"></div>
            <div class="row">
                <div class="col-lg-12">
                    <ul class="nav nav-pills">
                        <span  ng-show="tab == 1" class="pull-right">
                            <button class="btn k2-primary-btn pull-right" type="button" role-handler role="0" ng-click="sourceEnvironmentCtrl.openRole(0)">&nbsp;&nbsp;<span class="bold">{{ "EDIT_ROLE" | translate}}</span></button>
                        </span>
                        <li ng-class="{'active' : tab == 1}">
							<a ng-click="tab = (sourceEnvironmentCtrl.tabClicked(1) || sourceEnvironmentCtrl.newTab)" ng-init="tab = 1">
								<i class="fa fa-user"></i>
								Roles
							</a>
						</li>
                    </ul>
                    <div class="tab-content">
                        <div id="tab-1" class="tab-pane active" ng-show="tab == 1">
                            <table 
								ng-if="sourceEnvironmentCtrl.loadingTableRoles === false" 
								style="margin-top: 0px !important;display: table; width: 100%" 
								datatable="" 
								dt-options="sourceEnvironmentCtrl.dtOptionsRoles" 
								dt-columns="sourceEnvironmentCtrl.dtColumnsRoles"  
								dt-instance="sourceEnvironmentCtrl.dtInstanceCallbackRoles" 
								class="table table-striped table-bordered table-hover">
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-sm-4">
    <div ng-switch="sourceEnvironmentCtrl.activityPanel">
        <div ng-switch-when="empty">

        </div>
        <div ng-switch-when="Role">
            <div ng-include="'views/soruceEnvrionments/sourceEnvironmentRole.html'"></div>
        </div>
        <div ng-switch-when="newRole">
            <div ng-include="'views/soruceEnvrionments/sourceEnvironmentNewRole.html'"></div>
        </div>
        <div ng-switch-default>

        </div>
    </div>
</div>
